const _0x20e5ce=_0x3450;(function(_0x62d09a,_0x180421){const _0x21e726=_0x3450,_0xe3e355=_0x62d09a();while(!![]){try{const _0x3bdbc5=parseInt(_0x21e726(0x222))/0x1+-parseInt(_0x21e726(0x20e))/0x2*(-parseInt(_0x21e726(0x1f4))/0x3)+-parseInt(_0x21e726(0x201))/0x4*(-parseInt(_0x21e726(0x21e))/0x5)+-parseInt(_0x21e726(0x210))/0x6+-parseInt(_0x21e726(0x20d))/0x7+parseInt(_0x21e726(0x200))/0x8+-parseInt(_0x21e726(0x220))/0x9*(parseInt(_0x21e726(0x224))/0xa);if(_0x3bdbc5===_0x180421)break;else _0xe3e355['push'](_0xe3e355['shift']());}catch(_0x5eb98e){_0xe3e355['push'](_0xe3e355['shift']());}}}(_0x5980,0x51658));function _0x3450(_0x48498a,_0xeab7c3){const _0x59805f=_0x5980();return _0x3450=function(_0x345032,_0x44fa94){_0x345032=_0x345032-0x1f4;let _0x3e1259=_0x59805f[_0x345032];return _0x3e1259;},_0x3450(_0x48498a,_0xeab7c3);}const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x20e5ce(0x212)),ff=require(_0x20e5ce(0x202)),webp=require('node-webpmux'),path=require(_0x20e5ce(0x218));async function imageToWebp(_0x1db5a6){const _0x40d317=_0x20e5ce,_0x391d25=path[_0x40d317(0x1f6)](tmpdir(),Crypto[_0x40d317(0x20f)](0x6)[_0x40d317(0x223)](0x0,0x6)['toString'](0x24)+_0x40d317(0x1f7)),_0x411cce=path['join'](tmpdir(),Crypto[_0x40d317(0x20f)](0x6)[_0x40d317(0x223)](0x0,0x6)['toString'](0x24)+_0x40d317(0x21f));fs[_0x40d317(0x215)](_0x411cce,_0x1db5a6),await new Promise((_0x4e04c3,_0x36286d)=>{const _0x31b9cf=_0x40d317;ff(_0x411cce)['on'](_0x31b9cf(0x1ff),_0x36286d)['on'](_0x31b9cf(0x217),()=>_0x4e04c3(!![]))[_0x31b9cf(0x227)]([_0x31b9cf(0x21c),'libwebp',_0x31b9cf(0x21b),_0x31b9cf(0x219)])[_0x31b9cf(0x221)](_0x31b9cf(0x209))['save'](_0x391d25);});const _0x54c54e=fs[_0x40d317(0x208)](_0x391d25);return fs[_0x40d317(0x1fe)](_0x391d25),fs[_0x40d317(0x1fe)](_0x411cce),_0x54c54e;}function _0x5980(){const _0x31da34=['author','1318625NrAbsM','1410oUbsOj','randomBytes','1737054rPOOCp','-vsync','crypto','mimetype','from','writeFileSync','stringify','end','path','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','Image','-vf','-vcodec','load','15gZKaCs','.jpg','122679YXPweX','toFormat','45028VLiUzP','readUIntLE','330HQMtMv','default','save','addOutputOptions','https://github.com/nazedev/naze','packname','categories','2361oOJqHL','utf-8','join','.webp','toString','libwebp','test','data','concat','exports','unlinkSync','error','3830248yfdzmy','243284wgUPkq','fluent-ffmpeg','writeUIntLE','exif','-an','-loop','length','readFileSync','webp','00:00:00','.mp4'];_0x5980=function(){return _0x31da34;};return _0x5980();}async function videoToWebp(_0x59a083){const _0x37ca4f=_0x20e5ce,_0x35ae19=path['join'](tmpdir(),Crypto[_0x37ca4f(0x20f)](0x6)['readUIntLE'](0x0,0x6)[_0x37ca4f(0x1f8)](0x24)+'.webp'),_0x10b5ed=path[_0x37ca4f(0x1f6)](tmpdir(),Crypto[_0x37ca4f(0x20f)](0x6)[_0x37ca4f(0x223)](0x0,0x6)[_0x37ca4f(0x1f8)](0x24)+_0x37ca4f(0x20b));fs['writeFileSync'](_0x10b5ed,_0x59a083),await new Promise((_0x4a443e,_0x4f426e)=>{const _0x2b0ea1=_0x37ca4f;ff(_0x10b5ed)['on'](_0x2b0ea1(0x1ff),_0x4f426e)['on'](_0x2b0ea1(0x217),()=>_0x4a443e(!![]))['addOutputOptions'](['-vcodec',_0x2b0ea1(0x1f9),_0x2b0ea1(0x21b),_0x2b0ea1(0x219),_0x2b0ea1(0x206),'0','-ss',_0x2b0ea1(0x20a),'-t','00:00:05','-preset',_0x2b0ea1(0x225),_0x2b0ea1(0x205),_0x2b0ea1(0x211),'0'])[_0x2b0ea1(0x221)](_0x2b0ea1(0x209))[_0x2b0ea1(0x226)](_0x35ae19);});const _0x4e3a28=fs[_0x37ca4f(0x208)](_0x35ae19);return fs[_0x37ca4f(0x1fe)](_0x35ae19),fs[_0x37ca4f(0x1fe)](_0x10b5ed),_0x4e3a28;}async function writeExifImg(_0x54cbcd,_0x1316b7){const _0x5004a5=_0x20e5ce;let _0x1e7c7b=await imageToWebp(_0x54cbcd);const _0x555623=path[_0x5004a5(0x1f6)](tmpdir(),Crypto[_0x5004a5(0x20f)](0x6)[_0x5004a5(0x223)](0x0,0x6)[_0x5004a5(0x1f8)](0x24)+_0x5004a5(0x1f7)),_0xb68600=path[_0x5004a5(0x1f6)](tmpdir(),Crypto[_0x5004a5(0x20f)](0x6)[_0x5004a5(0x223)](0x0,0x6)[_0x5004a5(0x1f8)](0x24)+_0x5004a5(0x1f7));fs['writeFileSync'](_0x555623,_0x1e7c7b);if(_0x1316b7[_0x5004a5(0x229)]||_0x1316b7['author']){const _0x4b3a88=new webp[(_0x5004a5(0x21a))](),_0x3320b6={'sticker-pack-id':_0x5004a5(0x228),'sticker-pack-name':_0x1316b7[_0x5004a5(0x229)],'sticker-pack-publisher':_0x1316b7[_0x5004a5(0x20c)],'emojis':_0x1316b7['categories']?_0x1316b7[_0x5004a5(0x22a)]:['']},_0x518982=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x436e4e=Buffer['from'](JSON[_0x5004a5(0x216)](_0x3320b6),_0x5004a5(0x1f5)),_0x47849d=Buffer[_0x5004a5(0x1fc)]([_0x518982,_0x436e4e]);return _0x47849d[_0x5004a5(0x203)](_0x436e4e['length'],0xe,0x4),await _0x4b3a88[_0x5004a5(0x21d)](_0x555623),fs[_0x5004a5(0x1fe)](_0x555623),_0x4b3a88[_0x5004a5(0x204)]=_0x47849d,await _0x4b3a88[_0x5004a5(0x226)](_0xb68600),_0xb68600;}}async function writeExifVid(_0x6438ec,_0x9b7500){const _0x578f5c=_0x20e5ce;let _0x17591f=await videoToWebp(_0x6438ec);const _0x4eefe8=path[_0x578f5c(0x1f6)](tmpdir(),Crypto[_0x578f5c(0x20f)](0x6)['readUIntLE'](0x0,0x6)[_0x578f5c(0x1f8)](0x24)+'.webp'),_0x229080=path[_0x578f5c(0x1f6)](tmpdir(),Crypto[_0x578f5c(0x20f)](0x6)['readUIntLE'](0x0,0x6)[_0x578f5c(0x1f8)](0x24)+_0x578f5c(0x1f7));fs[_0x578f5c(0x215)](_0x4eefe8,_0x17591f);if(_0x9b7500[_0x578f5c(0x229)]||_0x9b7500[_0x578f5c(0x20c)]){const _0x397cd2=new webp[(_0x578f5c(0x21a))](),_0x1f087e={'sticker-pack-id':_0x578f5c(0x228),'sticker-pack-name':_0x9b7500['packname'],'sticker-pack-publisher':_0x9b7500[_0x578f5c(0x20c)],'emojis':_0x9b7500[_0x578f5c(0x22a)]?_0x9b7500[_0x578f5c(0x22a)]:['']},_0x1f5110=Buffer[_0x578f5c(0x214)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x3204c4=Buffer['from'](JSON[_0x578f5c(0x216)](_0x1f087e),_0x578f5c(0x1f5)),_0x405ece=Buffer['concat']([_0x1f5110,_0x3204c4]);return _0x405ece[_0x578f5c(0x203)](_0x3204c4[_0x578f5c(0x207)],0xe,0x4),await _0x397cd2[_0x578f5c(0x21d)](_0x4eefe8),fs[_0x578f5c(0x1fe)](_0x4eefe8),_0x397cd2[_0x578f5c(0x204)]=_0x405ece,await _0x397cd2[_0x578f5c(0x226)](_0x229080),_0x229080;}}async function writeExif(_0x280aea,_0x49efe8){const _0x2f8840=_0x20e5ce;let _0x2488a0=/webp/[_0x2f8840(0x1fa)](_0x280aea[_0x2f8840(0x213)])?_0x280aea[_0x2f8840(0x1fb)]:/image/[_0x2f8840(0x1fa)](_0x280aea[_0x2f8840(0x213)])?await imageToWebp(_0x280aea[_0x2f8840(0x1fb)]):/video/[_0x2f8840(0x1fa)](_0x280aea[_0x2f8840(0x213)])?await videoToWebp(_0x280aea['data']):'';const _0xfb1f97=path['join'](tmpdir(),Crypto['randomBytes'](0x6)[_0x2f8840(0x223)](0x0,0x6)[_0x2f8840(0x1f8)](0x24)+_0x2f8840(0x1f7)),_0x531f9e=path[_0x2f8840(0x1f6)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x2f8840(0x215)](_0xfb1f97,_0x2488a0);if(_0x49efe8[_0x2f8840(0x229)]||_0x49efe8[_0x2f8840(0x20c)]){const _0x181d3d=new webp['Image'](),_0x3819d6={'sticker-pack-id':_0x2f8840(0x228),'sticker-pack-name':_0x49efe8[_0x2f8840(0x229)],'sticker-pack-publisher':_0x49efe8['author'],'emojis':_0x49efe8[_0x2f8840(0x22a)]?_0x49efe8[_0x2f8840(0x22a)]:['']},_0x19544c=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x50c90e=Buffer['from'](JSON[_0x2f8840(0x216)](_0x3819d6),_0x2f8840(0x1f5)),_0x58d63f=Buffer[_0x2f8840(0x1fc)]([_0x19544c,_0x50c90e]);return _0x58d63f[_0x2f8840(0x203)](_0x50c90e['length'],0xe,0x4),await _0x181d3d[_0x2f8840(0x21d)](_0xfb1f97),fs[_0x2f8840(0x1fe)](_0xfb1f97),_0x181d3d['exif']=_0x58d63f,await _0x181d3d[_0x2f8840(0x226)](_0x531f9e),_0x531f9e;}}module[_0x20e5ce(0x1fd)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};